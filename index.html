<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Clonal Garden</title>
    <link rel="stylesheet" href="./style.css">

  </head>
    
  <body>
  <!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aplikasi Monitoring Sandbed Stoolplant</title>
    <style>
        /* ... CSS yang baru diletakkan di sini ... */
    </style>
</head>
<body>
    <header>
        <h1>Monitoring Sandbed Stoolplant</h1>
        
        <div class="header-info">
            <div class="header-group">
                <label for="nursery-name">Nursery :</label>
                <input type="text" id="nursery-name" placeholder="Nama Nursery">
            </div>
            <div class="header-group">
                <label for="supervisor-name">Supervisor Stoolplant :</label>
                <input type="text" id="supervisor-name" placeholder="Nama Supervisor">
            </div>
        </div>
        </header>

    <main>
        
        <section id="input-perawatan">
            <h2>üìù Input Data Perawatan</h2>
            <form id="form-perawatan">
                <div class="form-container">
                    <div class="form-group">
                        <label for="Block">Block/Lokasi (Sandbed):</label>
                        <select id="Block" required>
                            <option value="">-- Pilih Blok --</option>
                            <option value="Block A">Block A</option>
                            <option value="Block B">Block B</option>
                            <option value="Block C">Block C</option>
                            <option value="Block D">Block D</option>
                            <option value="MPH Temporary">MPH Temporary</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="tgl-perawatan">Tanggal Perawatan:</label>
                        <input type="date" id="tgl-perawatan" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="jenis-perawatan">Jenis Aplikasi:</label>
                        <select id="jenis-perawatan" required>
                            <option value="">-- Pilih Jenis --</option>
                            <option value="Insektisida">Insektisida</option>
                            <option value="Fungisida">Fungisida</option>
                            <option value="Pemupukan">Pemupukan</option>
                            <option value="Herbisida">Herbisida</option>
                            <option value="Lain-lain">Lain-lain</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="Material-yang-digunakan">Material yang digunakan:</label>
                        <input type="text" id="Material-yang-digunakan" required placeholder="Contoh: Endure, NPK Tinggi">
                    </div>

                    <div class="form-group">
                        <label for="bahan-aktif">Bahan Aktif:</label>
                        <input type="text" id="bahan-aktif" required placeholder="Contoh: Spinetoram, NPK 29,10,10">
                    </div>

                    <div class="form-group">
                        <label for="dosis">Dosis:</label>
                        <input type="text" id="dosis" required placeholder="Contoh: 2 ml/liter atau 3 gr/stool">
                    </div>
                </div>

                <div class="form-group">
                    <label for="catatan">Catatan/Keterangan Tambahan:</label>
                    <textarea id="catatan" placeholder="Aplikasi Manual, Cuaca Berangin, dll (Opsional)"></textarea>
                </div>

                <div class="action-buttons">
                    <button type="submit">Rekam Data Perawatan</button>
                    <button type="reset" class="btn-secondary">Reset Form</button>
                </div>
            </form>
        </section>

        <section id="master-data-sandbed">
            <h2>üå± Master Data Sandbed (Tambah / Edit)</h2>
            <form id="form-master-sandbed">
                <div class="form-container">
                    <div class="form-group">
                        <label for="master-block">Block:</label>
                        <select id="master-block" required>
                            <option value="">-- Pilih Blok --</option>
                            <option value="Block A">Block A</option>
                            <option value="Block B">Block B</option>
                            <option value="Block C">Block C</option>
                            <option value="Block D">Block D</option>
                            <option value="MPH Temporary">MPH Temporary</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="master-id">ID Sandbed (Unik):</label>
                        <input type="text" id="master-id" required placeholder="Contoh: MKRUS001">
                    </div>
                    <div class="form-group">
                        <label for="master-clone">Clone/Varietas:</label>
                        <input type="text" id="master-clone" required placeholder="Contoh: AC00065AA">
                    </div>
                    <div class="form-group">
                        <label for="master-bulan-tanam">Bulan Tanam (Tahun-Bulan):</label>
                        <input type="month" id="master-bulan-tanam" required>
                    </div>
                    <div class="form-group">
                        <label for="master-std-qty">Std Qty MP:</label>
                        <input type="number" id="master-std-qty" required value="2352" min="1">
                    </div>
                    <div class="form-group">
                        <label for="master-afkir">Jumlah Afkir:</label>
                        <input type="number" id="master-afkir" required value="0" min="0">
                    </div>
                    <div class="form-group">
                        <label for="master-sulam">Jumlah Sulam:</label>
                        <input type="number" id="master-sulam" required value="0" min="0">
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button type="submit" id="btn-tambah-sandbed">Tambah Sandbed Baru</button>
                    <button type="reset" class="btn-secondary" onclick="document.getElementById('master-id').disabled = false; document.getElementById('btn-tambah-sandbed').innerText = 'Tambah Sandbed Baru'; isEditing = false; currentEditId = null;">Reset Form</button>
                </div>
            </form>
          <div class="card-body" id="SupervisorAccessControl">
    <label style="font-size: 1.1em; font-weight: bold;">Mode Supervisor (Akses Edit/Hapus Master Data):</label>
    <div class="input-group mb-3" style="max-width: 300px;">
        <input type="password" id="supervisorKeyInput" class="form-control" placeholder="Masukkan Kunci Rahasia">
        <div class="input-group-append">
            <button class="btn btn-danger" type="button" id="btnLockUnlock" onclick="verifySupervisorKey()">Buka Kunci</button>
        </div>
    </div>
    <p id="securityStatus" style="color: red; font-weight: bold;">AKSES TERKUNCI</p>
          </div>
          

            <div class="import-controls">
                <h3>üì§ Import Data Master (CSV)</h3>
                <p>Gunakan fitur ini untuk menambah/mengganti data master secara massal. Format wajib menggunakan pemisah **titik koma (;)**.</p>
                <button id="btn-download-format" class="btn-secondary">1. Unduh Format CSV</button>
                <input type="file" id="import-file" accept=".csv" style="display: block; margin-top: 10px;">
                <div id="file-info" class="file-info"></div>
                <button id="btn-import-data" disabled>2. Import Data ke Aplikasi</button>
            </div>
        </section>


        <section id="daftar-monitoring">
            <h2>üìä Daftar Master Sandbed & Riwayat Perawatan</h2>
            
            <h3>Daftar Master Sandbed</h3>
            <div class="search-controls">
                <input type="text" id="search-master-input" placeholder="Cari ID Sandbed, Block, atau Clone...">
            </div>

            <div class="table-responsive">
                <table id="table-sandbed-list">
                    <thead>
                        <tr>
                            <th onclick="sortTableMaster(0)">No</th>
                            <th onclick="sortTableMaster(1)">Block</th>
                            <th onclick="sortTableMaster(2)">ID Sandbed</th>
                            <th onclick="sortTableMaster(3)">Clone</th>
                            <th onclick="sortTableMaster(4)">Bulan Tanam</th>
                            <th onclick="sortTableMaster(5)">Umur MP</th>
                            <th onclick="sortTableMaster(6)">Std Qty</th>
                            <th onclick="sortTableMaster(7)">Afkir</th>
                            <th onclick="sortTableMaster(8)">Sulam</th>
                            <th onclick="sortTableMaster(9)">Total Stock</th>
                            <th onclick="sortTableMaster(10)">Stocking Rate</th>
                            <th>Aksi</th> 
                        </tr>
                    </thead>
                    <tbody>
                        </tbody>
                </table>
            </div>

            <h3 style="margin-top: 40px;">Riwayat Perawatan yang Tercatat</h3>
            <div class="search-controls">
                <input type="text" id="search-input" placeholder="Cari Riwayat (Block, Jenis, Material, Bahan Aktif)...">
            </div>

            <div class="table-responsive">
                <table id="table-riwayat-perawatan">
                    <thead>
                        <tr>
                            <th>Tanggal</th>
                            <th>Block</th>
                            <th>Jenis Aplikasi</th>
                            <th>Material</th>
                            <th>Bahan Aktif</th>
                            <th>Dosis</th>
                            <th>Catatan</th>
                        </tr>
                    </thead>
                    <tbody>
                        </tbody>
                </table>
            </div>
        </section>

    </main>

            </section>

    </main>

    <script src="./script.js"></script>

</body>
</html>
    
